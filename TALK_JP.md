---
theme:
  name: tokyonight-storm
  override:
    footer:
      style: template
      left: "@orhun.dev"
      right: "Tokyo Rust Meetup"
---

<!-- new_lines: 1 -->

![image:width:50%](assets/rat-dance-2.gif)

<!-- no_footer -->

<!-- end_slide -->

![image:width:35%](assets/rust-tokyo.png)

<!-- alignment: center -->

**Rustã§ãƒã‚±ãƒƒãƒˆã‚µã‚¤ã‚ºã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ« UIã‚’ä½œã‚‹** ğŸ¦€

_Rust Tokyo Meetup ğŸ‡¯ğŸ‡µ_

---

**Orhun ParmaksÄ±z -  ãƒ‘ãƒ«ãƒã‚¯ã‚·ã‚º ã‚ªãƒ«ãƒ•ãƒ³**

`@orhun.dev` | `@ratatui.rs`

<!-- no_footer -->

<!-- end_slide -->

<!-- column_layout: [1, 1] -->

<!-- column: 0 -->

![image:width:80%](assets/rat-cook.png)

<!-- column: 1 -->

<!-- new_lines: 2 -->

# **Orhun ParmaksÄ±z**

ğŸ‡¹ğŸ‡· **ã‚¢ãƒ³ã‚«ãƒ©ã€ãƒˆãƒ«ã‚³**åœ¨ä½ã®ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼

ğŸ¦€ _ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã€Rustã€ãã—ã¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«!_

ğŸ­ **Ratatui**ã€**Ratzilla**ã€**git-cliff** ãªã©...

ğŸ“¦ **Arch Linux** (btw)

---

`https://github.com/orhun`  
`https://youtube.com/@orhundev`

<!-- end_slide -->

<!-- alignment: center -->

<!-- new_lines: 3 -->

**ãƒã‚ºãƒŸã‚’æƒ³åƒã—ã¦ãã ã•ã„ã€‚**

<!-- pause -->

![](assets/rat-cup.gif)

<!-- pause -->

_ãƒã‚ºãƒŸã¯MP3ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„_

<!-- pause -->

_ãƒã‚ºãƒŸã¯ytmp3downloader.ccã«ç§»å‹•ã™ã‚‹_

<!-- no_footer -->

<!-- end_slide -->

![image:width:100%](assets/yy-info.gif)

<!-- pause -->

<!-- jump_to_middle -->

![](assets/rat-cry.gif)

<!-- alignment: center -->

<!-- no_footer -->

<!-- end_slide -->

<!-- no_footer -->

<!-- alignment: center -->

<!-- new_lines: 3 -->

**ãƒã‚ºãƒŸã‚’æƒ³åƒã—ã¦ãã ã•ã„ï¼ˆã‚‚ã†ä¸€åº¦ï¼‰**

![](assets/rat-cup-2.gif)

<!-- pause -->

_ãƒã‚ºãƒŸã¯cheese.txtã‚’æ¢ã—ã¦ã„ã‚‹_

<!-- pause -->

_ãƒã‚ºãƒŸã¯ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚’ä½¿ã†_

<!-- end_slide -->

<!-- no_footer -->

![image:width:40%](assets/loading-bar.png)

<!-- pause -->

![](assets/loading-bar-1.png)

<!-- pause -->

![](assets/loading-bar-2.png)

<!-- pause -->

<!-- jump_to_middle -->

![](assets/rat-tired.gif)

<!-- end_slide -->

<!-- alignment: center -->

<!-- new_lines: 3 -->

<!-- no_footer -->

**ãƒã‚ºãƒŸã‚’æƒ³åƒã—ã¦ãã ã•ã„ï¼ˆã”ã‚ã‚“ã­ï¼‰**

![](assets/rat-sus.gif)

<!-- pause -->

_ãƒã‚ºãƒŸã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ç›£è¦–ã—ãŸã„_

<!-- pause -->

_ãƒã‚ºãƒŸã¯GUIãƒ„ãƒ¼ãƒ«ã‚’èµ·å‹•ã™ã‚‹_

<!-- pause -->

<!-- end_slide -->

<!-- no_footer -->

![image:width:60%](assets/clicking.gif)

<!-- end_slide -->

![image:width:40%](assets/rat-boom.gif)

<!-- alignment: center -->

_ãƒã‚ºãƒŸã¯çˆ†ç™ºã—ãŸã€‚_

<!-- no_footer -->

<!-- end_slide -->

# è§£æ±ºç­–ã¯ï¼Ÿ

<!-- pause -->

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã™ã€‚

<!-- pause -->

```bash
$ yt-dlp -f bestaudio --extract-audio --audio-format mp3
```

<!-- pause -->

```bash +exec +acquire_terminal
ig 'fn main' /home/orhun/gh/
```

<!-- pause -->

```sh +exec +acquire_terminal
sudo oryx -i wlp3s0
```

<!-- end_slide -->

<!-- new_lines: 2 -->

![image:width:45%](assets/lethimcook-invert.gif)

<!-- no_footer -->

<!-- end_slide -->

![image:width:100%](assets/real-ratatui.jpg)

<!-- end_slide -->

![image:width:80%](assets/ratatui-header.png)

<!-- alignment: center -->

**https://ratatui.rs**

<!-- pause -->

---

> Ratatuiã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆTUIï¼‰ã‚’æ–™ç†ã™ã‚‹ãŸã‚ã®Rustãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

- `2023å¹´`ã‹ã‚‰å­˜åœ¨ï¼ˆ`tui-rs`ã‹ã‚‰ã®ãƒ•ã‚©ãƒ¼ã‚¯ï¼‰

- `250äººä»¥ä¸Š`ã®è²¢çŒ®è€…ã€æ•°ç™¾ã®ã‚¢ãƒ—ãƒªã€`800ä¸‡å›ä»¥ä¸Š`ã®ã‚¯ãƒ¬ãƒ¼ãƒˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

- `tokio-console`ã€`yazi`ã€`dioxus-cli`ã€`atuin`ã€`gitui`ç­‰

- `Netflix`ã€`OpenAI`ã€`OVHcloud`ãªã©å¤šãã®ä¼æ¥­ã§ä½¿ç”¨

<!-- end_slide -->

```bash +exec
handlr open https://github.com/openai/codex/pull/629
```

<!-- end_slide -->

# TUIã®ä¾‹

<!-- alignment: center -->

![image:width:90%](assets/openapi-tui.gif)

[](https://github.com/zaghaghi/openapi-tui)

<!-- end_slide -->

# TUIã®ä¾‹

<!-- alignment: center -->

![image:width:90%](assets/yozefu.gif)

[](https://github.com/MAIF/yozefu)

<!-- end_slide -->

ä»–ã«ã¯ï¼Ÿ

<!-- pause -->

```bash +exec +acquire_terminal
exabind
```

<!-- pause -->

```bash +exec
handlr open https://orhun.dev/ratzilla/demo/
```

<!-- pause -->

```
rebels-in-the-sky
```

<!-- end_slide -->

<!-- end_slide -->

<!-- alignment: center -->

![](assets/rat-demand.gif)

_è¦‹ã›ã‚ï¼_

<!-- end_slide -->

<!-- alignment: center -->

<!-- new_lines: 1 -->

ç°¡å˜ã§ã™ã€‚

```rust {1-13|2|3|4-6|8-10|1-13} +line_numbers
fn main() -> std::io::Result<()> {
    ratatui::run(|terminal| {
        loop {
            terminal.draw(|frame|
                frame.render_widget("rat", frame.area())
            )?;

            if crossterm::event::read()?.is_key_press() {
                break Ok(());
            }
        }
    })
}
```

<!-- pause -->

_ãã‚Œã¨ã‚‚ãƒãƒ¼ã‚ºã£ã½ã„ï¼Ÿæ­£ç›´ã‚ã‹ã‚‰ãªã„_

<!-- end_slide -->

## ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

<!-- alignment: center -->

| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | èª¬æ˜ |
| ------------------ | -------------------------------------- |
| Hello World        | ã€ŒHello, World!ã€ã®ä¾‹                  |
| Simple             | ã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹                           |
| Simple Async       | ã‚·ãƒ³ãƒ—ãƒ«ãªéåŒæœŸã®ä¾‹                   |
| Event Driven       | ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹TUIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³      |
| Event Driven Async | éåŒæœŸã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹TUIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ |
| Component          | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®TUIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ |

```bash
cargo generate ratatui/templates
```

![](assets/rat-point.gif)

<!-- end_slide -->

# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (>=v0.30)

<!-- column_layout: [1, 1, 1] -->

<!-- column: 0 -->

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

- BarChart
- Calendar
- Canvas
- Chart
- Sparkline
- Table
- `impl Widget`
- ...

<!-- column: 1 -->

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- Crossterm
- Termion
- Termwiz
- `impl Backend`

<!-- column: 2 -->

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

ratatui  
â”œâ”€â”€ `ratatui-core`  
â”œâ”€â”€ `ratatui-widgets`  
â”œâ”€â”€ ratatui-crossterm  
â”œâ”€â”€ ratatui-termion  
â”œâ”€â”€ ratatui-termwiz  
â””â”€â”€ ratatui-macros

<!-- reset_layout -->

<!-- alignment: center -->

![image:width:12%](assets/rat-noted.gif)

<!-- pause -->

_ã—ã‹ã—ã€ã“ã“ã§çµ‚ã‚ã‚Šã§ã¯ã‚ã‚Šã¾ã›ã‚“_

<!-- end_slide -->

<!-- alignment: center -->

![](assets/suzui-rs.jpg)

`ã‚¹ã‚ºã‚­ ãƒãƒ¬ãƒ¼ãƒ`ã§Ratatui  
[](https://github.com/thatdevsherry/suzui-rs)

<!-- end_slide -->

<!-- new_lines: 1 -->

![image:width:100%](assets/ratatui-psp.png)

<!-- alignment: center -->

`PSP`ã§Ratatui  
`https://github.com/overdrivenpotato/rust-psp/pull/190`

<!-- end_slide -->

![image:width:90%](assets/text-based-rpg.gif)

<!-- alignment: center -->

`j-g00da`ã«ã‚ˆã‚‹Radioforestrion RPGï¼ˆé–‹ç™ºä¸­ï¼‰

<!-- end_slide -->

<!-- new_lines: 1 -->

åå‰ã‚’ä»˜ã‘ã‚‹ã¨ï¼š

<!-- pause -->

![image:width:70%](assets/ratatuify.png)

<!-- alignment: center -->

_https://www.urbandictionary.com/define.php?term=ratatuify_

<!-- pause -->

_ã§ã‚‚ã€ã©ã†ã‚„ã£ã¦å¯èƒ½ãªã®ï¼Ÿ_ ğŸ¤”

<!-- end_slide -->

### impl Backend

```rust
pub trait Backend {
    fn draw<'a, I>(&mut self, content: I) -> Result<()>
       where I: Iterator<Item = (u16, u16, &'a Cell)>;
    fn hide_cursor(&mut self) -> Result<()>;
    fn show_cursor(&mut self) -> Result<()>;
    fn get_cursor_position(&mut self) -> Result<Position>;
    fn set_cursor_position<P: Into<Position>>(
        &mut self,
        position: P,
    ) -> Result<()>;
    fn clear(&mut self) -> Result<()>;
    fn size(&self) -> Result<Size>;
    fn window_size(&mut self) -> Result<WindowSize>;
    fn flush(&mut self) -> Result<()>;
    // ...
}
```

<!-- end_slide -->

### ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

| ãƒªãƒã‚¸ãƒˆãƒª | èª¬æ˜ |
| ----------------------------------- | -------------------------------------- |
| _reubeno_/`ratatui-uefi`            | UEFI                                   |
| _j-g00da_/`mousefood`               | embedded-graphicsãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰          |
| _Jesterhearts_/`ratatui-wgpu`       | GPUåŠ é€Ÿãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°                    |
| _gold-silver-copper_/`egui_ratatui` | EGUIã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ                       |
| _gold-silver-copper_/`soft_ratatui` | ç´”ç²‹ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°         |
| _cxreiff_/`bevy_ratatui_camera`     | Bevyã‚¢ãƒ—ãƒªã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°   |
| _orhun_/`ratzilla`                  | Web                                    |

![](assets/rat-point.gif)

<!-- new_lines: 1 -->

<!-- end_slide -->

ç¶šãã€ä»Šæ—¥ã¯æ¬¡ã«ã¤ã„ã¦ãƒã‚¦ã‚·ğŸã‚ã’ã¾ã™ï¼š

<!-- pause -->

![](assets/rat-cheese.gif)

![image:width:87%](assets/mousefood-demo.gif)

<!--alignment: center-->

_mousefood_ï¼

<!-- end_slide -->

![image:width:90%](assets/ratatui-epd.jpg)

<!-- end_slide -->

# ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’çŸ¥ã‚ã†ï¼

**ESP32** by Espressif Systems

- æœ€å¤§240MHzã®ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚³ã‚¢32ãƒ“ãƒƒãƒˆMCUã€Wi-Fi + Bluetoothæ­è¼‰
- 520 KB SRAMã€å¤–éƒ¨ãƒ•ãƒ©ãƒƒã‚·ãƒ¥/PSRAMã‚’ã‚µãƒãƒ¼ãƒˆ
- è±Šå¯ŒãªI/Oï¼šADCã€DACã€SPIã€IÂ²Cã€UARTã€PWMã€ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼

<!-- column_layout: [1, 1, 1]-->

<!-- column: 0 -->

<!-- new_lines:  2-->

![image:width:100%](assets/esp32.gif)

<!-- column: 1 -->

![](assets/esp32-wroom-32d.gif)

<!-- column: 2 -->

![](assets/t-display.png)

<!-- end_slide -->

# ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

<!-- column_layout: [1, 1] -->
<!-- column: 0 -->

## **esp-hal**

- ãƒ™ã‚¢ãƒ¡ã‚¿ãƒ«ï¼ˆ`#![no_std]`ï¼‰
- EspressifãŒè³‡é‡‘æä¾›

<!-- column: 1 -->

## **esp-idf-hal**

- `std`ã‚µãƒãƒ¼ãƒˆä»˜ãï¼
- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®å–ã‚Šçµ„ã¿
- ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ãŒå¿…è¦

<!-- reset_layout -->

<!-- column_layout: [2, 3] -->
<!-- column: 0 -->

<!-- pause -->

## ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³

```sh
cargo install espup
espup install
```

```sh
cargo install espflash
```

<!-- column: 1 -->

<!-- pause -->

`.cargo/config.toml`:

```toml
[build]
target = "xtensa-esp32-espidf"

[target.xtensa-esp32-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"
rustflags = [ "--cfg",  "espidf_time64"]
```

<!-- end_slide -->

```bash +exec +acquire_terminal
esp-generate
```

<!-- alignment: center -->

[](https://github.com/esp-rs/esp-generate)

**Ratatui**ã§æ§‹ç¯‰ï¼ğŸ­

![](assets/rat-spin.gif)

<!-- end_slide -->

<!-- new_lines: 2 -->

<!-- alignment: center -->

ãã‚Œã§ã€_ã‚«ãƒ‹ï¼Ÿ_

<!-- pause -->

![image:width:40%](assets/crab-rave.gif)

ãƒ¨ãƒƒãƒƒãƒƒãƒƒã‚·ãƒ£ã‚¢ï½ï¼ï¼ï¼ï¼

<!-- pause -->

_ãã‚Œã§ã‚‚ãƒã‚ºãƒŸã¯ï¼Ÿ_

<!-- end_slide -->

### Ratatui + embedded-graphics = **Mousefood**

<!-- column_layout: [4, 3] -->

<!-- column: 0 -->

- `embedded-graphics`ä¸Šã«æ§‹ç¯‰
- ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒƒãƒˆãƒãƒƒãƒ—ãƒ•ã‚©ãƒ³ãƒˆã‚µãƒãƒ¼ãƒˆ

<!-- column: 1 -->

![image:width:40%](assets/mousefood.gif)

<!-- reset_layout -->

```rust {1-9|2|4|5|7-9|1-9}
// ã‚ã‚‰ã‚†ã‚‹embedded_graphics DrawTarget
let mut display = MyDrawTarget::new();

let backend = EmbeddedBackend::new(&mut display, EmbeddedBackendConfig::default());
let mut terminal = Terminal::new(backend)?;

loop {
    terminal.draw(...)?;
}
```

<!-- alignment: center -->

`https://github.com/j-g00da/mousefood`

<!-- end_slide -->

### ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ ğŸ¤–

```rust {1-15|1-8|10|12-13|15|1-15}
let mut simulator_window = Window::new(
    "mousefood simulator",
    &OutputSettings {
        scale: 4,
        max_fps: 30,
        ..Default::default()
    },
);

let mut display = SimulatorDisplay::new(Size::new(128, 64));

let config = EmbeddedBackendConfig::default();
let backend = EmbeddedBackend::new(&mut display, config);

let mut terminal = Terminal::new(backend)?;
```

<!-- alignment: center -->

ã“ã‚Œã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§Ratatuiã‚’èµ·å‹•

<!-- end_slide -->

![](assets/rat-ski.gif)

```bash +exec
cargo run --manifest-path ../mousefood/Cargo.toml -p simulator
```

<!-- end_slide -->

![](assets/are-we-embedded-yet.png)

<!-- alignment: center -->

[](https://youtu.be/QPjojOuhbe8)  
Ratatuiã¯ç¾åœ¨`no_std`ã§ã™ï¼

<!-- end_slide -->

<!-- new_lines: 3 -->

<!-- alignment: center -->

# ãƒ‡ãƒ¢ã‚¿ã‚¤ãƒ ï¼

![image:width:40%](assets/rat-dance.gif)

<!-- no_footer -->

<!-- end_slide -->

# ã§ã¯ã€ä½•ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ

<!-- pause -->

ã‚®ã‚¿ãƒ¼ã‚’å­¦ã¼ã†ï¼

![](assets/pcb-works.jpg)

<!-- alignment: center -->

| _Rustã€Ratatuiã€ãã—ã¦9Vãƒãƒƒãƒ†ãƒªãƒ¼ã§å‹•ä½œï¼_

<!-- end_slide -->

![image:width:30%](assets/tuitar-logo.png)

<!-- alignment: center -->

ã€Œ_ãƒãƒ¼ã‚¿ãƒ–ãƒ«ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚®ã‚¿ãƒ¼è¨“ç·´ãƒ„ãƒ¼ãƒ«_ã€

![image:width:40%](assets/tuitar-case.png)

```sh +exec
mpv /home/orhun/downloads/tuitar-final.mp4
```

<!-- end_slide -->

<!-- new_lines: 1 -->

![image:width:80%](assets/rustforge-demo.png)

<!-- alignment: center -->

[](https://www.youtube.com/live/es48dmNWMVQ)

Rust Forgeã§ã®ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢ï¼

<!-- end_slide -->

<!-- column_layout: [5, 8] -->

<!-- column: 0 -->

### impl Widget

```rust
pub struct Fretboard {
    tuning: Vec<Note>,
    style: Style,
}
```

```rust
pub struct FretboardState {
    notes: Vec<Note>
}
```

![](assets/rat-spin.gif)

<!-- column: 1 -->

```rust
impl StatefulWidget for &Fretboard {
    type State = FretboardState;

    fn render(
        self,
        area: Rect,
        buf: &mut Buffer,
        state: &mut Self::State,
    ) {
        for s in self.tuning.iter() {
            // ...
            buf.set_line(
                area.x,
                area.y + i as u16,
                &Line::from(spans),
                area.width,
            );
        }
    }
}
```

<!-- end_slide -->

## `ratatui-fretboard`ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ç´¹ä»‹ ğŸ‰

```rust
let fretboard = Fretboard::default();
let mut state = FretboardState::default();
state.set_active_note(Note::A(4));
frame.render_stateful_widget(fretboard, area, &mut state);
```

```
E4 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
B3 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â•‘
G3 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
D3 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
A2 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
E2 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
     1   2   3   4   5   6   7   8   9  10  11  12
```

<!-- alignment: center -->

æ–‡å­—åˆ—åã€ãƒ•ãƒ¬ãƒƒãƒˆã€è‰²ãªã©ã€ã™ã¹ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã§ã™ã€‚

<!-- end_slide -->

![width:100%](assets/mountain-dew-guitar.jpg)

<!-- end_slide -->

```
D0 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
G0 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
C0 â•‘â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
F0 â•‘â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
B0 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â•‘
E1 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
A1 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â€¢â”€â”¼â”€â”€â”€â•‘
D2 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€âœ–â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€âœ–â”€â”¼â”€â”€â”€â•‘
G2 â•‘â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€âœ–â”€â”¼â”€â¬¤â”€â”¼â”€â”€â”€â”¼â”€âœ–â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
C3 â•‘â”€â”¼â”€â”€â”€â”¼â”€âœ–â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€âœ–â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â•‘
     1   2   3   4   5   6   7   8   9  10  11  12  13  14
```

![](assets/rat-clown.gif)

<!-- end_slide -->

### ãƒ•ãƒ¬ãƒƒãƒˆãƒœãƒ¼ãƒ‰è¿½è·¡

![image:width:75%](assets/tuitar-fretboard-live.gif)

<!-- end_slide -->

### ã‚¹ã‚±ãƒ¼ãƒ«ãƒ¢ãƒ¼ãƒ‰

![image:width:75%](assets/tuitar-fretboard-scale.gif)

<!-- end_slide -->

### ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰

![image:width:75%](assets/tuitar-fretboard-random.gif)

<!-- end_slide -->

### æ›²ãƒ¢ãƒ¼ãƒ‰

![image:width:75%](assets/tuitar-fretboard-song.gif)

<!-- end_slide -->

## TUItar

```sh +exec +acquire_terminal
tuitar
```

![image:width:30%](assets/tuitar-qr.png)

<!-- alignment: center -->

[](https://github.com/orhun/tuitar)

<!-- end_slide -->

<!-- alignment: center -->

<!-- new_lines: 3 -->

ã‚‚ã£ã¨è¦‹ã‚‹ï¼Ÿ

![](assets/rat-demand.gif)

_å£ã§è¨€ã†ã®ã¯ç°¡å˜ã€ãƒãƒ¼ã‚ºã‚’è¦‹ã›ã¦ã€‚_

<!-- end_slide -->

![](assets/irc-client.jpg)

<!-- alignment: center -->

[](https://github.com/intuis/mnyaoo32)

<!-- end_slide -->

<!-- column_layout: [1, 4, 4, 1] -->

<!-- column: 1 -->

![image:width:90%](assets/phone-os-1.png)

<!-- column: 2 -->

![image:width:90%](assets/phone-os-2.png)

<!-- reset_layout -->

<!-- alignment: center -->

[](https://github.com/Julien-cpsn/Phone-OS)

<!-- end_slide -->

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

![image:width:100%](assets/s3-display.gif)

<!-- alignment: center -->

[](https://github.com/junkdog/tachyonfx)çµŒç”±

<!-- end_slide -->

## èª²é¡Œ

![image:width:80%](assets/ratted-sir.png)

<!-- end_slide -->

### å¤§ãã„ç”»é¢ã€€ï¼ï¼ã€€å¤§ãã„ãƒˆãƒ©ãƒ–ãƒ«

```
memory allocation of 153600 bytes failed
...
ili9341::graphics_core::<impl embedded_graphics_core::draw_target::DrawTarget for ili9341::Ili9341>::fill_contiguous
```

- `ST7735`ï¼š160 Ã— 128 â‰ˆ `20 KB`ã®ãƒ”ã‚¯ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿
- `ILI9341`ï¼š240 Ã— 320 â‰ˆ `150 KB`ã®ãƒ”ã‚¯ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿

<!-- pause -->

```rust
esp_alloc::heap_allocator!(size: 160 * 1024);
```

```ini
CONFIG_ESP_MAIN_TASK_STACK_SIZE=16384
```

<!-- end_slide -->

![image:width:100%](assets/8-bytes-alloc.png)

<!-- pause -->

<!-- jump_to_middle -->

![image:width:100%](assets/rat-boom.gif)

<!-- end_slide -->

### ãƒ“ãƒ«ãƒ‰åœ°ç„

`opt-level` > 1ã§ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ‘ãƒ‹ãƒƒã‚¯ / loadprohibited / ã‚»ãƒãƒ•ã‚©ã‚¢ã‚µãƒ¼ãƒˆ

<!-- pause -->

```toml
[profile.release]
opt-level = 3

[profile.release.package."firmware"]
opt-level = 1

[profile.dev]
debug = true
opt-level = "z"
```

<!-- pause -->

<!-- alignment: center -->

LLVMæœ€é©åŒ– + Xtensaãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒã‚° + æœªå®šç¾©å‹•ä½œ(UDB)ï¼ˆå‰²ã‚Šå½“ã¦ã€ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãªã©ï¼‰ãŒåŸå› 

<!-- pause -->

ã¤ã¾ã‚Š`è‹¦ç—›`

<!-- jump_to_middle -->

![image:width:70%](assets/rat-cry.gif)

<!-- end_slide -->

ã¨ã£ã“ã§ç§ã®è‹¦ã—ã¿ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹:

<!-- pause -->

![](assets/livestream-1.png)

<!-- alignment: center -->

<!-- end_slide -->

![](assets/livestream-2.png)

<!-- end_slide -->

![](assets/livestream-3.png)

<!-- end_slide -->

![](assets/livestream-4.png)

<!-- end_slide -->

![](assets/livestream-5.png)

<!-- end_slide -->

![](assets/livestream-6.png)

<!-- end_slide -->

![](assets/livestream-7.png)

<!-- alignment: center -->

[](https://www.youtube.com/@orhundev)

<!-- column_layout: [1, 2, 2, 1 ]-->

<!-- column: 1 -->

![](assets/rat-type.gif)

<!-- column: 2 -->

<!-- new_lines: 1 -->

![](assets/yt.png)

<!-- end_slide -->

### é‡è¦ãªä¸€è¨€ï¼

<!-- pause -->

<!-- alignment: center -->

![](assets/rat-atm.gif)

![image:width:100%](assets/sponsor-qr.png)

[](https://github.com/sponsors/orhun)

<!-- end_slide -->

<!-- alignment: center -->

<!-- no_footer -->

# ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ

![](assets/rat-ending.gif)

`https://github.com/orhun`  
`https://youtube.com/orhundev`

---

âœ¨ ã‚¹ãƒ©ã‚¤ãƒ‰ï¼š[](https://github.com/orhun/embedded-ratatui-workshop)  
`P.S. ç§ã®å¸½å­ã®ä¸‹ã«ãƒã‚ºãƒŸãŒéš ã‚Œã¦ã„ã¾ã›ã‚“ã€‚`
